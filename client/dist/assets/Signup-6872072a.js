import{r as n,_ as c,u as v,j as e}from"./index-94fca464.js";import{c as g,a,d as f,u as S,b as j,o as q}from"./yup-3e96ae65.js";import{e as L,L as A,Q as t}from"./App-ff4ff5eb.js";import{S as E}from"./Stack-046467dd.js";import{b as K,u as o,p as i}from"./queryKeyFactory-17eee966.js";const Q=/^(?=.*[0-9])(?=.*[!@#%^&*+-])[a-zA-Z0-9!@#%^&*+-=]{8,30}$/,w=/^[a-zA-Z0-9!@#%^&*+-=]{4,}$/,$=g({username:a().trim().matches(w).required(),email:a().email().required(),password:a().trim().matches(Q).required(),confirm:a().oneOf([f("password"),null],"Password must match")}).required(),b=n.lazy(()=>c(()=>import("./loader-a290854d.js"),["assets/loader-a290854d.js","assets/index-94fca464.js","assets/index-61b77ebf.css","assets/App-ff4ff5eb.js","assets/App-36b8f6be.css"])),z=n.lazy(()=>c(()=>import("./signupForm-94c01556.js"),["assets/signupForm-94c01556.js","assets/index-94fca464.js","assets/index-61b77ebf.css","assets/Button-cc906282.js","assets/App-ff4ff5eb.js","assets/App-36b8f6be.css","assets/Button-0a6dc675.js","assets/Form-01d6657c.js","assets/index-090fa6c0.js","assets/createWithBsPrefix-2e1af6a5.js","assets/Col-8e5ef79d.js"])),Z=()=>{const r=v(),{isLoading:u,reset:m,mutateAsync:l}=S({mutationFn:K.createUser,onSuccess:()=>{r.invalidateQueries({queryKey:o.lists()}),r.invalidateQueries({queryKey:o.details()}),r.invalidateQueries({queryKey:i.lists()}),r.invalidateQueries({queryKey:i.details()})}}),d=L(),{register:p,handleSubmit:y,formState:{errors:h}}=j({resolver:q($),mode:"all"}),_=async x=>{try{const s=await l(x);s&&(t.success(s.message,{theme:"colored"}),d("/login"))}catch(s){t.error(s.response.data.error,{theme:"colored"})}};return u?e.jsx(b,{}):e.jsxs(E,{className:"col-md-5 mx-auto",children:[e.jsx("h2",{children:"Create an account"}),e.jsx("div",{children:e.jsxs("p",{children:["Already have an account? ",e.jsx(A,{to:"/login",children:"Login to XZYMOUS"})]})}),e.jsx(z,{register:p,handleSubmit:y,onSubmit:_,reset:m,errors:h})]})};export{Z as default};
