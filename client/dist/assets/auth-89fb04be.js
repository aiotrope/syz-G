import{c as f,d as P}from"./index-94fca464.js";var y={};Object.defineProperty(y,"__esModule",{value:!0});var g=y.recoilPersist=void 0;const v=(c={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:o="recoil-persist",storage:s=localStorage,converter:a=JSON}=c,k=({onSet:e,node:t,trigger:n,setSelf:i})=>{if(n==="get"){const r=d();typeof r.then=="function"&&r.then(u=>{u.hasOwnProperty(t.key)&&i(u[t.key])}),r.hasOwnProperty(t.key)&&i(r[t.key])}e(async(r,u,_)=>{const l=d();typeof l.then=="function"?l.then(S=>p(r,S,t.key,_)):p(r,l,t.key,_)})},p=(e,t,n,i)=>{i?delete t[n]:t[n]=e,h(t)},d=()=>{const e=s.getItem(o);return e==null?{}:typeof e=="string"?m(e):typeof e.then=="function"?e.then(m):{}},m=e=>{if(e===void 0)return{};try{return a.parse(e)}catch(t){return console.error(t),{}}},h=e=>{try{typeof s.mergeItem=="function"?s.mergeItem(o,a.stringify(e)):s.setItem(o,a.stringify(e))}catch(t){console.error(t)}};return{persistAtom:k}};g=y.recoilPersist=v;const{persistAtom:A}=g({key:"JWT",storage:localStorage,converter:JSON}),j=f({key:"jwt_atom",default:"",effects_UNSTABLE:[A]}),w=f({key:"user_atom",default:{id:null,username:"",email:"",bio:"",avatar:null,isStaff:null,posts:null,createdAt:null,updatedAt:null}});P({key:"user_selector",get:({get:c})=>c(w)});f({key:"users_atom",default:[]});export{j,w as u};
